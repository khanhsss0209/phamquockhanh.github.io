<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/khanhsss0209/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=khanhsss0209/livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Lập trình mạng - Hành trình từ cơ bản đến thành thạo | Blog Lập Trình Mạng</title>
<meta name="keywords" content="Networking, Java, TCP/IP, Socket, Programming, HTTP">
<meta name="description" content="Hướng dẫn toàn diện về lập trình mạng từ những khái niệm cơ bản đến việc xây dựng ứng dụng mạng thực tế với Java">
<meta name="author" content="Phạm Quốc Khánh">
<link rel="canonical" href="http://localhost:1313/khanhsss0209/posts/gioi-thieu-lap-trinh-mang/">
<meta property="og:title" content="Lập trình mạng - Hành trình từ cơ bản đến thành thạo | Blog Lập Trình Mạng">
<meta property="og:description" content="Hướng dẫn toàn diện về lập trình mạng từ những khái niệm cơ bản đến việc xây dựng ứng dụng mạng thực tế với Java">
<meta property="og:type" content="article">
<meta property="og:url" content="http://localhost:1313/khanhsss0209/posts/gioi-thieu-lap-trinh-mang/">
<meta property="og:image" content="http://localhost:1313/images/og-default.png">
<meta property="og:site_name" content="Blog Lập Trình Mạng">
<meta property="og:locale" content="vi_VN">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Lập trình mạng - Hành trình từ cơ bản đến thành thạo | Blog Lập Trình Mạng">
<meta name="twitter:description" content="Hướng dẫn toàn diện về lập trình mạng từ những khái niệm cơ bản đến việc xây dựng ứng dụng mạng thực tế với Java">
<meta name="twitter:image" content="http://localhost:1313/images/og-default.png">
<style>
:root {
   
  --primary-green: #2d5a27;
  --secondary-green: #4a7c59;
  --light-green: #7fb069;
  --accent-green: #98c09a;
  --soft-green: #e8f5e8;
  --dark-green: #1a3d1a;
  
   
  --text-dark: #2c3e50;
  --text-light: #ffffff;
  --text-muted: #6c757d;
  
   
  --background-light: #f8fcf8;
  --background-white: #ffffff;
  
   
  --shadow: rgba(45, 90, 39, 0.1);
  --shadow-hover: rgba(45, 90, 39, 0.2);
  --gradient-primary: linear-gradient(135deg, var(--primary-green) 0%, var(--secondary-green) 100%);
  --gradient-soft: linear-gradient(135deg, var(--soft-green) 0%, #ffffff 100%);
  
   
  --transition-base: all 0.3s ease;
  --transition-slow: all 0.5s ease;
  
   
  --font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
  
   
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  
   
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-full: 9999px;
}

 
@media (prefers-color-scheme: dark) {
  :root {
    --text-dark: #ffffff;
    --text-muted: #a3a3a3;
    --background-light: #1a1a1a;
    --background-white: #2d2d2d;
    --shadow: rgba(0, 0, 0, 0.3);
    --shadow-hover: rgba(0, 0, 0, 0.5);
  }
}

.dark {
  --text-dark: #ffffff;
  --text-muted: #a3a3a3;
  --background-light: #1a1a1a;
  --background-white: #2d2d2d;
  --shadow: rgba(0, 0, 0, 0.3);
  --shadow-hover: rgba(0, 0, 0, 0.5);
}

 
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

body {
  font-family: var(--font-family);
  line-height: 1.6;
  color: var(--text-dark);
  background: var(--background-light);
  transition: var(--transition-base);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

 
*:focus {
  outline: 2px solid var(--primary-green);
  outline-offset: 2px;
}

*:focus:not(:focus-visible) {
  outline: none;
}

 
.loading {
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.6s ease-out forwards;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

 
code {
  font-family: var(--font-mono);
  font-size: 0.9em;
  background: var(--soft-green);
  color: var(--primary-green);
  padding: 0.2em 0.4em;
  border-radius: var(--radius-sm);
  font-weight: 500;
}

pre code {
  background: none;
  color: inherit;
  padding: 0;
  font-weight: normal;
}

 
a {
  color: var(--primary-green);
  text-decoration: none;
  transition: var(--transition-base);
}

a:hover {
  color: var(--secondary-green);
}

 
table {
  width: 100%;
  border-collapse: collapse;
  margin: var(--space-lg) 0;
  background: var(--background-white);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: 0 4px 15px var(--shadow);
}

th, td {
  padding: var(--space-md);
  text-align: left;
  border-bottom: 1px solid var(--soft-green);
}

th {
  background: var(--primary-green);
  color: var(--text-light);
  font-weight: 600;
}

tr:hover {
  background: var(--soft-green);
}

 
blockquote {
  background: var(--soft-green);
  border-left: 4px solid var(--primary-green);
  padding: var(--space-lg);
  margin: var(--space-xl) 0;
  border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
  font-style: italic;
  position: relative;
}

blockquote::before {
  content: '"';
  font-size: 4rem;
  color: var(--accent-green);
  position: absolute;
  left: var(--space-md);
  top: -10px;
  line-height: 1;
}

 
@media print {
  * {
    background: white !important;
    color: black !important;
    box-shadow: none !important;
  }
  
  a, a:visited {
    text-decoration: underline;
  }
  
  .no-print {
    display: none !important;
  }
}

 
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  html {
    scroll-behavior: auto;
  }
}
</style>
<link crossorigin="anonymous" href="/khanhsss0209/assets/css/stylesheet.a482bf00fa5c046040ef7973ad5fdf5657890cacb596c93f1382f664ca542074.css" integrity="sha256-pIK/APpcBGBA73lzrV/fVleJDKy1lsk/E4L2ZMpUIHQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/khanhsss0209/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/khanhsss0209/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/khanhsss0209/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/khanhsss0209/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/khanhsss0209/safari-pinned-tab.svg">
<meta name="theme-color" content="#2d5a27">
<meta name="msapplication-TileColor" content="#2d5a27">
<link rel="alternate" hreflang="en" href="http://localhost:1313/khanhsss0209/posts/gioi-thieu-lap-trinh-mang/">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Blog Lập Trình Mạng",
  "description": "Chia sẻ kiến thức về lập trình mạng, Java \u0026 JavaScript",
  "url": "http:\/\/localhost:1313\/khanhsss0209\/",
  "author": {
    "@type": "Person",
    "name": "Phạm Quốc Khánh",
    "email": "noobkhanh@gmail.com",
    "url": "https://github.com/khanhsss0209"
  },
  "sameAs": [
    "https://github.com/khanhsss0209"
  ],
  "potentialAction": {
    "@type": "SearchAction",
    "target": "http:\/\/localhost:1313\/khanhsss0209\//search/?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "Lập trình mạng - Hành trình từ cơ bản đến thành thạo",
  "description": "Hướng dẫn toàn diện về lập trình mạng từ những khái niệm cơ bản đến việc xây dựng ứng dụng mạng thực tế với Java",
  "url": "http:\/\/localhost:1313\/khanhsss0209\/posts\/gioi-thieu-lap-trinh-mang\/",
  "datePublished": "2025-10-23T00:00:00Z",
  "dateModified": "2025-10-23T00:00:00Z",
  "author": {
    "@type": "Person",
    "name": "Phạm Quốc Khánh",
    "email": "noobkhanh@gmail.com"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Blog Lập Trình Mạng",
    "logo": {
      "@type": "ImageObject",
      "url": "http:\/\/localhost:1313\/images\/logo.png"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http:\/\/localhost:1313\/khanhsss0209\/posts\/gioi-thieu-lap-trinh-mang\/"
  },
  "keywords": [
    "Networking",
    "Java",
    "TCP\/IP",
    "Socket",
    "Programming",
    "HTTP"
  ]
}
</script>

<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }
    </style>
</noscript>
<script>
if ('serviceWorker' in navigator && location.hostname !== 'localhost') {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/sw.js').then(function(registration) {
      console.log('SW registered: ', registration);
    }).catch(function(registrationError) {
      console.log('SW registration failed: ', registrationError);
    });
  });
}
</script>
    <style>
        :root {
            --primary-green: #2d5a27;
            --secondary-green: #4a7c59;
            --light-green: #7fb069;
            --accent-green: #98c09a;
            --soft-green: #e8f5e8;
            --dark-green: #1a3d1a;
            --text-dark: #2c3e50;
            --text-light: #ffffff;
            --background-light: #f8fcf8;
            --shadow: rgba(45, 90, 39, 0.1);
            --gradient-primary: linear-gradient(135deg, var(--primary-green) 0%, var(--secondary-green) 100%);
            --gradient-soft: linear-gradient(135deg, var(--soft-green) 0%, #ffffff 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--background-light);
            transition: all 0.3s ease;
        }

        .container {
            width: 100%;
            max-width: none;
            margin: 0;
            padding: 0;
        }

         
        .main {
            min-height: calc(100vh - 200px);
            padding: 0;
            width: 100%;
        }
        
         
        .content-wrapper {
            width: 100%;
            padding: 2rem 1rem;
            box-sizing: border-box;
        }

        @media (min-width: 768px) {
            .content-wrapper {
                padding: 2rem 2rem;
            }
        }

        @media (min-width: 1200px) {
            .content-wrapper {
                padding: 2rem 3rem;
            }
        }

        @media (min-width: 1600px) {
            .content-wrapper {
                padding: 2rem 4rem;
            }
        }
        .header {
            background: var(--gradient-primary);
            box-shadow: 0 4px 20px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav {
            padding: 1rem 0;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo a {
            color: var(--text-light);
            text-decoration: none;
            font-size: 1.8rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .logo a:hover {
            color: var(--accent-green);
            transform: scale(1.05);
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--accent-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--primary-green);
        }

         
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-menu li a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-menu li a:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--accent-green);
            transition: left 0.3s ease;
            z-index: -1;
        }

        .nav-menu li a:hover:before,
        .nav-menu li a.active:before {
            left: 0;
        }

        .nav-menu li a:hover,
        .nav-menu li a.active {
            color: var(--primary-green);
            transform: translateY(-2px);
        }

         
        .theme-toggle {
            background: var(--accent-green);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            color: var(--primary-green);
        }

        .theme-toggle:hover {
            transform: rotate(180deg) scale(1.1);
            background: var(--light-green);
        }

         
        .main {
            min-height: calc(100vh - 200px);
            padding: 2rem 0;
        }

         
        .content-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem 0;
            box-shadow: 0 8px 30px var(--shadow);
            border: 1px solid var(--soft-green);
            transition: all 0.3s ease;
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(45, 90, 39, 0.2);
        }

         
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: var(--gradient-primary);
            color: var(--text-light);
            text-decoration: none;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            text-align: center;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(--shadow);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary-green);
            border: 2px solid var(--primary-green);
        }

        .btn-outline:hover {
            background: var(--primary-green);
            color: var(--text-light);
        }

         
        .footer {
            background: var(--dark-green);
            color: var(--text-light);
            padding: 2rem 0;
            margin-top: 3rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            color: var(--accent-green);
            margin-bottom: 1rem;
        }

        .footer-section a {
            color: var(--text-light);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-section a:hover {
            color: var(--accent-green);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid var(--secondary-green);
            opacity: 0.8;
        }

         
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-menu {
                flex-wrap: wrap;
                justify-content: center;
                gap: 1rem;
            }

            .container {
                padding: 0 15px;
            }

            .content-card {
                padding: 1.5rem;
            }
        }

         
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease-out;
        }

         
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--soft-green);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--secondary-green);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-green);
        }

         
        .dark {
            --text-dark: #ffffff;
            --background-light: #1a1a1a;
            --shadow: rgba(0, 0, 0, 0.3);
        }

        .dark .content-card {
            background: #2d2d2d;
            border-color: var(--primary-green);
        }
    </style>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }
</script>

<header class="header">
    <nav class="nav">
        <div class="container">
            <div class="nav-container">
                <div class="logo">
                    <div class="logo-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"/>
                        </svg>
                    </div>
                    <a href="http://localhost:1313/khanhsss0209/" accesskey="h" title="Blog Lập Trình Mạng (Alt + H)">Blog Lập Trình Mạng</a>
                </div>
                <ul class="nav-menu" id="menu">
                    <li>
                        <a href="http://localhost:1313/khanhsss0209/" 
                           title="🏠 Home">🏠 Home
                        </a>
                    </li>
                    <li>
                        <a href="http://localhost:1313/khanhsss0209/posts/" 
                           title="📝 Blog">📝 Blog
                        </a>
                    </li>
                    <li>
                        <a href="http://localhost:1313/khanhsss0209/about/" 
                           title="👤 Giới thiệu">👤 Giới thiệu
                        </a>
                    </li>
                </ul>

                <div class="nav-controls">
                    <button class="theme-toggle" id="theme-toggle" accesskey="t" title="Toggle theme (Alt + T)" aria-label="Toggle theme">
                        <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" style="display: none;">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>
</header>

<style>
    .nav-controls {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .lang-switch {
        display: flex;
        list-style: none;
        gap: 0.5rem;
        align-items: center;
    }

    .lang-switch a {
        color: var(--text-light);
        text-decoration: none;
        padding: 0.25rem 0.5rem;
        border-radius: 15px;
        transition: all 0.3s ease;
    }

    .lang-switch a:hover {
        background: var(--accent-green);
        color: var(--primary-green);
    }

     
    .mobile-menu-toggle {
        display: none;
        background: none;
        border: none;
        color: var(--text-light);
        cursor: pointer;
        padding: 0.5rem;
    }

    @media (max-width: 768px) {
        .mobile-menu-toggle {
            display: block;
        }

        .nav-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--gradient-primary);
            flex-direction: column;
            padding: 1rem;
            box-shadow: 0 4px 20px var(--shadow);
        }

        .nav-menu.active {
            display: flex;
        }

        .nav-container {
            position: relative;
        }
    }
</style>

<script>
    
    document.addEventListener('DOMContentLoaded', function() {
        const mobileToggle = document.querySelector('.mobile-menu-toggle');
        const navMenu = document.getElementById('menu');
        
        if (mobileToggle && navMenu) {
            mobileToggle.addEventListener('click', function() {
                navMenu.classList.toggle('active');
            });
        }

        
        const themeToggle = document.getElementById('theme-toggle');
        const moonIcon = document.getElementById('moon');
        const sunIcon = document.getElementById('sun');
        
        if (themeToggle && moonIcon && sunIcon) {
            function updateIcons() {
                if (document.body.classList.contains('dark')) {
                    moonIcon.style.display = 'none';
                    sunIcon.style.display = 'block';
                } else {
                    moonIcon.style.display = 'block';
                    sunIcon.style.display = 'none';
                }
            }

            themeToggle.addEventListener('click', function() {
                setTimeout(updateIcons, 50);
            });

            updateIcons(); 
        }
    });
</script><main class="main">

<div class="full-width-container">
<header class="post-header">
  <div class="content-wrapper">
    <h1 class="post-title">Lập trình mạng - Hành trình từ cơ bản đến thành thạo</h1>
    <div class="post-description">Hướng dẫn toàn diện về lập trình mạng từ những khái niệm cơ bản đến việc xây dựng ứng dụng mạng thực tế với Java</div>
    <div class="post-meta">
      <time class="post-date">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        23/10/2025
      </time>
      <div class="post-tags">
        <a href="/tags/networking" class="tag">Networking</a>
        <a href="/tags/java" class="tag">Java</a>
        <a href="/tags/tcp/ip" class="tag">TCP/IP</a>
        <a href="/tags/socket" class="tag">Socket</a>
        <a href="/tags/programming" class="tag">Programming</a>
        <a href="/tags/http" class="tag">HTTP</a>
      </div>
      <div class="reading-stats">
        <span class="reading-time">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12,6 12,12 16,14"></polyline>
          </svg>
          18 phút đọc
        </span>
        <span class="word-count">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14,2 14,8 20,8"></polyline>
          </svg>
          3486 từ
        </span>
      </div>
    </div>
  </div>
</header>

<article class="post-content-section">
  <div class="content-wrapper">
    <div class="post-content"><h2 id="giới-thiệu">Giới thiệu<a hidden class="anchor" aria-hidden="true" href="#giới-thiệu">#</a></h2>
<p>Trong thế giới công nghệ hiện đại, <strong>lập trình mạng</strong> (Network Programming) là một kỹ năng không thể thiếu đối với mọi developer. Từ việc gửi một email đơn giản đến xây dựng hệ thống phân tán phức tạp, tất cả đều dựa trên các nguyên lý lập trình mạng.</p>
<p>Bài viết này sẽ đưa bạn qua hành trình từ những khái niệm cơ bản nhất đến việc triển khai các ứng dụng mạng thực tế, với trọng tâm sử dụng Java.</p>
<h2 id="lập-trình-mạng-là-gì">Lập trình mạng là gì?<a hidden class="anchor" aria-hidden="true" href="#lập-trình-mạng-là-gì">#</a></h2>
<p><strong>Lập trình mạng</strong> là việc phát triển các chương trình máy tính có khả năng giao tiếp với nhau qua mạng máy tính. Điều này bao gồm:</p>
<ul>
<li><strong>Truyền dữ liệu</strong> giữa các máy tính</li>
<li><strong>Chia sẻ tài nguyên</strong> như file, database, services</li>
<li><strong>Xây dựng hệ thống phân tán</strong> với multiple components</li>
<li><strong>Tạo các giao thức</strong> cho communication patterns</li>
</ul>
<h3 id="tại-sao-lập-trình-mạng-quan-trọng">Tại sao lập trình mạng quan trọng?<a hidden class="anchor" aria-hidden="true" href="#tại-sao-lập-trình-mạng-quan-trọng">#</a></h3>
<pre tabindex="0"><code>🌐 Internet của vạn vật (IoT)
📱 Mobile applications
☁️  Cloud computing
🏢 Enterprise systems
🎮 Online gaming
💰 Fintech và blockchain
</code></pre><h2 id="kiến-thức-nền-tảng">Kiến thức nền tảng<a hidden class="anchor" aria-hidden="true" href="#kiến-thức-nền-tảng">#</a></h2>
<h3 id="1-mô-hình-osi-và-tcpip">1. Mô hình OSI và TCP/IP<a hidden class="anchor" aria-hidden="true" href="#1-mô-hình-osi-và-tcpip">#</a></h3>
<h4 id="mô-hình-osi-7-layers">Mô hình OSI (7 layers)<a hidden class="anchor" aria-hidden="true" href="#mô-hình-osi-7-layers">#</a></h4>
<pre tabindex="0"><code>7. Application Layer  ← HTTP, FTP, SMTP
6. Presentation Layer ← SSL/TLS, encryption
5. Session Layer      ← Session management
4. Transport Layer    ← TCP, UDP
3. Network Layer      ← IP, routing
2. Data Link Layer    ← Ethernet, WiFi
1. Physical Layer     ← Cables, radio waves
</code></pre><h4 id="mô-hình-tcpip-4-layers">Mô hình TCP/IP (4 layers)<a hidden class="anchor" aria-hidden="true" href="#mô-hình-tcpip-4-layers">#</a></h4>
<pre tabindex="0"><code>4. Application Layer  ← HTTP, FTP, DNS
3. Transport Layer    ← TCP, UDP
2. Internet Layer     ← IP, ICMP
1. Network Access     ← Ethernet, WiFi
</code></pre><h3 id="2-địa-chỉ-ip-và-port">2. Địa chỉ IP và Port<a hidden class="anchor" aria-hidden="true" href="#2-địa-chỉ-ip-và-port">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// IPv4 address examples</span>
</span></span><span style="display:flex;"><span>192.<span style="color:#a6e22e">168</span>.<span style="color:#a6e22e">1</span>.<span style="color:#a6e22e">100</span>    <span style="color:#75715e">// Private network</span>
</span></span><span style="display:flex;"><span>8.<span style="color:#a6e22e">8</span>.<span style="color:#a6e22e">8</span>.<span style="color:#a6e22e">8</span>          <span style="color:#75715e">// Google DNS</span>
</span></span><span style="display:flex;"><span>127.<span style="color:#a6e22e">0</span>.<span style="color:#a6e22e">0</span>.<span style="color:#a6e22e">1</span>        <span style="color:#75715e">// Localhost (loopback)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// IPv6 address example</span>
</span></span><span style="display:flex;"><span>2001:0db8:85a3:0000:0000:8a2e:0370:7334
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Port examples</span>
</span></span><span style="display:flex;"><span>80    <span style="color:#75715e">// HTTP</span>
</span></span><span style="display:flex;"><span>443   <span style="color:#75715e">// HTTPS</span>
</span></span><span style="display:flex;"><span>22    <span style="color:#75715e">// SSH</span>
</span></span><span style="display:flex;"><span>21    <span style="color:#75715e">// FTP</span>
</span></span><span style="display:flex;"><span>25    <span style="color:#75715e">// SMTP</span>
</span></span><span style="display:flex;"><span>3306  <span style="color:#75715e">// MySQL</span>
</span></span><span style="display:flex;"><span>5432  <span style="color:#75715e">// PostgreSQL</span>
</span></span></code></pre></div><h3 id="3-giao-thức-tcp-vs-udp">3. Giao thức TCP vs UDP<a hidden class="anchor" aria-hidden="true" href="#3-giao-thức-tcp-vs-udp">#</a></h3>
<table>
  <thead>
      <tr>
          <th>Đặc điểm</th>
          <th>TCP</th>
          <th>UDP</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Reliability</strong></td>
          <td>Đáng tin cậy</td>
          <td>Không đảm bảo</td>
      </tr>
      <tr>
          <td><strong>Connection</strong></td>
          <td>Connection-oriented</td>
          <td>Connectionless</td>
      </tr>
      <tr>
          <td><strong>Speed</strong></td>
          <td>Chậm hơn</td>
          <td>Nhanh hơn</td>
      </tr>
      <tr>
          <td><strong>Overhead</strong></td>
          <td>Cao</td>
          <td>Thấp</td>
      </tr>
      <tr>
          <td><strong>Use cases</strong></td>
          <td>Web, Email, File transfer</td>
          <td>Gaming, Video streaming, DNS</td>
      </tr>
  </tbody>
</table>
<h2 id="lập-trình-socket-với-java">Lập trình Socket với Java<a hidden class="anchor" aria-hidden="true" href="#lập-trình-socket-với-java">#</a></h2>
<h3 id="1-socket-cơ-bản">1. Socket cơ bản<a hidden class="anchor" aria-hidden="true" href="#1-socket-cơ-bản">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BasicSocketExample</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// TCP Client example</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">tcpClient</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (Socket socket <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Socket(<span style="color:#e6db74">&#34;www.google.com&#34;</span>, 80)) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Gửi HTTP request</span>
</span></span><span style="display:flex;"><span>            PrintWriter out <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PrintWriter(
</span></span><span style="display:flex;"><span>                socket.<span style="color:#a6e22e">getOutputStream</span>(), <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>            out.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;GET / HTTP/1.1&#34;</span>);
</span></span><span style="display:flex;"><span>            out.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Host: www.google.com&#34;</span>);
</span></span><span style="display:flex;"><span>            out.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Connection: close&#34;</span>);
</span></span><span style="display:flex;"><span>            out.<span style="color:#a6e22e">println</span>(); <span style="color:#75715e">// Empty line để kết thúc request</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Đọc response</span>
</span></span><span style="display:flex;"><span>            BufferedReader in <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">new</span> InputStreamReader(socket.<span style="color:#a6e22e">getInputStream</span>()));
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            String line;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> ((line <span style="color:#f92672">=</span> in.<span style="color:#a6e22e">readLine</span>()) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(line);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Client error: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// TCP Server example</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">tcpServer</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (ServerSocket serverSocket <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ServerSocket(8080)) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Server listening on port 8080&#34;</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">true</span>) {
</span></span><span style="display:flex;"><span>                Socket clientSocket <span style="color:#f92672">=</span> serverSocket.<span style="color:#a6e22e">accept</span>();
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Handle client in separate thread</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">new</span> Thread(() <span style="color:#f92672">-&gt;</span> handleClient(clientSocket)).<span style="color:#a6e22e">start</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Server error: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">handleClient</span>(Socket clientSocket) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (BufferedReader in <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">new</span> InputStreamReader(clientSocket.<span style="color:#a6e22e">getInputStream</span>()));
</span></span><span style="display:flex;"><span>             PrintWriter out <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PrintWriter(
</span></span><span style="display:flex;"><span>                clientSocket.<span style="color:#a6e22e">getOutputStream</span>(), <span style="color:#66d9ef">true</span>)) {
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            String inputLine;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> ((inputLine <span style="color:#f92672">=</span> in.<span style="color:#a6e22e">readLine</span>()) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Received: &#34;</span> <span style="color:#f92672">+</span> inputLine);
</span></span><span style="display:flex;"><span>                out.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Echo: &#34;</span> <span style="color:#f92672">+</span> inputLine);
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (<span style="color:#e6db74">&#34;bye&#34;</span>.<span style="color:#a6e22e">equalsIgnoreCase</span>(inputLine)) {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Error handling client: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">finally</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                clientSocket.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Error closing client socket: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2-udp-programming">2. UDP Programming<a hidden class="anchor" aria-hidden="true" href="#2-udp-programming">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UDPExample</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// UDP Server</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UDPServer</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> DatagramSocket socket;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">boolean</span> running;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> buffer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[</span>1024<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">UDPServer</span>(<span style="color:#66d9ef">int</span> port) <span style="color:#66d9ef">throws</span> SocketException {
</span></span><span style="display:flex;"><span>            socket <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DatagramSocket(port);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">start</span>() {
</span></span><span style="display:flex;"><span>            running <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> (running) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                    DatagramPacket packet <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DatagramPacket(
</span></span><span style="display:flex;"><span>                        buffer, buffer.<span style="color:#a6e22e">length</span>);
</span></span><span style="display:flex;"><span>                    socket.<span style="color:#a6e22e">receive</span>(packet);
</span></span><span style="display:flex;"><span>                    
</span></span><span style="display:flex;"><span>                    String received <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String(
</span></span><span style="display:flex;"><span>                        packet.<span style="color:#a6e22e">getData</span>(), 0, packet.<span style="color:#a6e22e">getLength</span>());
</span></span><span style="display:flex;"><span>                    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Received: &#34;</span> <span style="color:#f92672">+</span> received);
</span></span><span style="display:flex;"><span>                    
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">// Echo back</span>
</span></span><span style="display:flex;"><span>                    String response <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Echo: &#34;</span> <span style="color:#f92672">+</span> received;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> responseData <span style="color:#f92672">=</span> response.<span style="color:#a6e22e">getBytes</span>();
</span></span><span style="display:flex;"><span>                    
</span></span><span style="display:flex;"><span>                    DatagramPacket responsePacket <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DatagramPacket(
</span></span><span style="display:flex;"><span>                        responseData, responseData.<span style="color:#a6e22e">length</span>,
</span></span><span style="display:flex;"><span>                        packet.<span style="color:#a6e22e">getAddress</span>(), packet.<span style="color:#a6e22e">getPort</span>());
</span></span><span style="display:flex;"><span>                    
</span></span><span style="display:flex;"><span>                    socket.<span style="color:#a6e22e">send</span>(responsePacket);
</span></span><span style="display:flex;"><span>                    
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (running) {
</span></span><span style="display:flex;"><span>                        System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Server error: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">stop</span>() {
</span></span><span style="display:flex;"><span>            running <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>            socket.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// UDP Client</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UDPClient</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> DatagramSocket socket;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> InetAddress address;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> port;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> buffer;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">UDPClient</span>(String hostname, <span style="color:#66d9ef">int</span> port) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>            socket <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DatagramSocket();
</span></span><span style="display:flex;"><span>            address <span style="color:#f92672">=</span> InetAddress.<span style="color:#a6e22e">getByName</span>(hostname);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">port</span> <span style="color:#f92672">=</span> port;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">sendMessage</span>(String message) <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>            buffer <span style="color:#f92672">=</span> message.<span style="color:#a6e22e">getBytes</span>();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            DatagramPacket packet <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DatagramPacket(
</span></span><span style="display:flex;"><span>                buffer, buffer.<span style="color:#a6e22e">length</span>, address, port);
</span></span><span style="display:flex;"><span>            socket.<span style="color:#a6e22e">send</span>(packet);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Receive response</span>
</span></span><span style="display:flex;"><span>            packet <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DatagramPacket(<span style="color:#66d9ef">new</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[</span>1024<span style="color:#f92672">]</span>, 1024);
</span></span><span style="display:flex;"><span>            socket.<span style="color:#a6e22e">receive</span>(packet);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> String(packet.<span style="color:#a6e22e">getData</span>(), 0, packet.<span style="color:#a6e22e">getLength</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">close</span>() {
</span></span><span style="display:flex;"><span>            socket.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Start server in separate thread</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> Thread(() <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                UDPServer server <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> UDPServer(9876);
</span></span><span style="display:flex;"><span>                server.<span style="color:#a6e22e">start</span>();
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (SocketException e) {
</span></span><span style="display:flex;"><span>                e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }).<span style="color:#a6e22e">start</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Give server time to start</span>
</span></span><span style="display:flex;"><span>        Thread.<span style="color:#a6e22e">sleep</span>(1000);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Client usage</span>
</span></span><span style="display:flex;"><span>        UDPClient client <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> UDPClient(<span style="color:#e6db74">&#34;localhost&#34;</span>, 9876);
</span></span><span style="display:flex;"><span>        String response <span style="color:#f92672">=</span> client.<span style="color:#a6e22e">sendMessage</span>(<span style="color:#e6db74">&#34;Hello UDP Server!&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Server response: &#34;</span> <span style="color:#f92672">+</span> response);
</span></span><span style="display:flex;"><span>        client.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="http-programming">HTTP Programming<a hidden class="anchor" aria-hidden="true" href="#http-programming">#</a></h2>
<h3 id="1-http-client-với-java-11">1. HTTP Client với Java 11+<a hidden class="anchor" aria-hidden="true" href="#1-http-client-với-java-11">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.http.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.URI;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.time.Duration;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.CompletableFuture;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ModernHTTPClient</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> HttpClient httpClient;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ModernHTTPClient</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">httpClient</span> <span style="color:#f92672">=</span> HttpClient.<span style="color:#a6e22e">newBuilder</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">version</span>(HttpClient.<span style="color:#a6e22e">Version</span>.<span style="color:#a6e22e">HTTP_2</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">connectTimeout</span>(Duration.<span style="color:#a6e22e">ofSeconds</span>(10))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Synchronous GET request</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">syncGet</span>(String url) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        HttpRequest request <span style="color:#f92672">=</span> HttpRequest.<span style="color:#a6e22e">newBuilder</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">GET</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">uri</span>(URI.<span style="color:#a6e22e">create</span>(url))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">setHeader</span>(<span style="color:#e6db74">&#34;User-Agent&#34;</span>, <span style="color:#e6db74">&#34;Java HTTP Client&#34;</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        HttpResponse<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> response <span style="color:#f92672">=</span> httpClient.<span style="color:#a6e22e">send</span>(
</span></span><span style="display:flex;"><span>            request, HttpResponse.<span style="color:#a6e22e">BodyHandlers</span>.<span style="color:#a6e22e">ofString</span>());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Status: &#34;</span> <span style="color:#f92672">+</span> response.<span style="color:#a6e22e">statusCode</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> response.<span style="color:#a6e22e">body</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Asynchronous GET request</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> CompletableFuture<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">asyncGet</span>(String url) {
</span></span><span style="display:flex;"><span>        HttpRequest request <span style="color:#f92672">=</span> HttpRequest.<span style="color:#a6e22e">newBuilder</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">GET</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">uri</span>(URI.<span style="color:#a6e22e">create</span>(url))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">setHeader</span>(<span style="color:#e6db74">&#34;User-Agent&#34;</span>, <span style="color:#e6db74">&#34;Java HTTP Client&#34;</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> httpClient.<span style="color:#a6e22e">sendAsync</span>(request, 
</span></span><span style="display:flex;"><span>            HttpResponse.<span style="color:#a6e22e">BodyHandlers</span>.<span style="color:#a6e22e">ofString</span>())
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">thenApply</span>(HttpResponse::body);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// POST request with JSON</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">postJson</span>(String url, String jsonBody) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        HttpRequest request <span style="color:#f92672">=</span> HttpRequest.<span style="color:#a6e22e">newBuilder</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">POST</span>(HttpRequest.<span style="color:#a6e22e">BodyPublishers</span>.<span style="color:#a6e22e">ofString</span>(jsonBody))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">uri</span>(URI.<span style="color:#a6e22e">create</span>(url))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">setHeader</span>(<span style="color:#e6db74">&#34;Content-Type&#34;</span>, <span style="color:#e6db74">&#34;application/json&#34;</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">setHeader</span>(<span style="color:#e6db74">&#34;User-Agent&#34;</span>, <span style="color:#e6db74">&#34;Java HTTP Client&#34;</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        HttpResponse<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> response <span style="color:#f92672">=</span> httpClient.<span style="color:#a6e22e">send</span>(
</span></span><span style="display:flex;"><span>            request, HttpResponse.<span style="color:#a6e22e">BodyHandlers</span>.<span style="color:#a6e22e">ofString</span>());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> response.<span style="color:#a6e22e">body</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Example usage</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        ModernHTTPClient client <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ModernHTTPClient();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Sync request</span>
</span></span><span style="display:flex;"><span>        String result <span style="color:#f92672">=</span> client.<span style="color:#a6e22e">syncGet</span>(<span style="color:#e6db74">&#34;https://api.github.com/users/octocat&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Sync result: &#34;</span> <span style="color:#f92672">+</span> result);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Async request</span>
</span></span><span style="display:flex;"><span>        CompletableFuture<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> asyncResult <span style="color:#f92672">=</span> client.<span style="color:#a6e22e">asyncGet</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;https://api.github.com/users/octocat&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        asyncResult.<span style="color:#a6e22e">thenAccept</span>(response <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Async result: &#34;</span> <span style="color:#f92672">+</span> response);
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Wait for async to complete</span>
</span></span><span style="display:flex;"><span>        Thread.<span style="color:#a6e22e">sleep</span>(2000);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2-simple-http-server">2. Simple HTTP Server<a hidden class="anchor" aria-hidden="true" href="#2-simple-http-server">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> com.sun.net.httpserver.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.InetSocketAddress;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.IOException;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.OutputStream;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.charset.StandardCharsets;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.Executors;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SimpleHTTPServer</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> HttpServer server;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> port;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">SimpleHTTPServer</span>(<span style="color:#66d9ef">int</span> port) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">port</span> <span style="color:#f92672">=</span> port;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">start</span>() <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>        server <span style="color:#f92672">=</span> HttpServer.<span style="color:#a6e22e">create</span>(<span style="color:#66d9ef">new</span> InetSocketAddress(port), 0);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Create contexts (routes)</span>
</span></span><span style="display:flex;"><span>        server.<span style="color:#a6e22e">createContext</span>(<span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#66d9ef">new</span> RootHandler());
</span></span><span style="display:flex;"><span>        server.<span style="color:#a6e22e">createContext</span>(<span style="color:#e6db74">&#34;/api/hello&#34;</span>, <span style="color:#66d9ef">new</span> HelloAPIHandler());
</span></span><span style="display:flex;"><span>        server.<span style="color:#a6e22e">createContext</span>(<span style="color:#e6db74">&#34;/api/echo&#34;</span>, <span style="color:#66d9ef">new</span> EchoHandler());
</span></span><span style="display:flex;"><span>        server.<span style="color:#a6e22e">createContext</span>(<span style="color:#e6db74">&#34;/health&#34;</span>, <span style="color:#66d9ef">new</span> HealthHandler());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Set executor for handling requests</span>
</span></span><span style="display:flex;"><span>        server.<span style="color:#a6e22e">setExecutor</span>(Executors.<span style="color:#a6e22e">newFixedThreadPool</span>(10));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        server.<span style="color:#a6e22e">start</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;🚀 HTTP Server started on port &#34;</span> <span style="color:#f92672">+</span> port);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">stop</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (server <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            server.<span style="color:#a6e22e">stop</span>(1);
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;🔴 HTTP Server stopped&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Root handler</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RootHandler</span> <span style="color:#66d9ef">implements</span> HttpHandler {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">handle</span>(HttpExchange exchange) <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>            String response <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;html&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;head&gt;&lt;title&gt;Simple Java HTTP Server&lt;/title&gt;&lt;/head&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;body&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;h1&gt;Welcome to Java HTTP Server!&lt;/h1&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;p&gt;Available endpoints:&lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;ul&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;li&gt;&lt;a href=&#34;/api/hello&#34;&gt;/api/hello&lt;/a&gt;&lt;/li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;li&gt;&lt;a href=&#34;/api/echo&#34;&gt;/api/echo&lt;/a&gt;&lt;/li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &lt;li&gt;&lt;a href=&#34;/health&#34;&gt;/health&lt;/a&gt;&lt;/li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &lt;/ul&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;/body&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &lt;/html&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &#34;&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            sendResponse(exchange, 200, response, <span style="color:#e6db74">&#34;text/html&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// API hello handler</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloAPIHandler</span> <span style="color:#66d9ef">implements</span> HttpHandler {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">handle</span>(HttpExchange exchange) <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>            String method <span style="color:#f92672">=</span> exchange.<span style="color:#a6e22e">getRequestMethod</span>();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#e6db74">&#34;GET&#34;</span>.<span style="color:#a6e22e">equals</span>(method)) {
</span></span><span style="display:flex;"><span>                String jsonResponse <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &#34;message&#34;: &#34;Hello from Java HTTP Server!&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &#34;timestamp&#34;: &#34;%s&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &#34;method&#34;: &#34;%s&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &#34;&#34;&#34;</span>.<span style="color:#a6e22e">formatted</span>(java.<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Instant</span>.<span style="color:#a6e22e">now</span>(), method);
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                sendResponse(exchange, 200, jsonResponse, <span style="color:#e6db74">&#34;application/json&#34;</span>);
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                sendResponse(exchange, 405, <span style="color:#e6db74">&#34;Method not allowed&#34;</span>, <span style="color:#e6db74">&#34;text/plain&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Echo handler</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">EchoHandler</span> <span style="color:#66d9ef">implements</span> HttpHandler {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">handle</span>(HttpExchange exchange) <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>            String method <span style="color:#f92672">=</span> exchange.<span style="color:#a6e22e">getRequestMethod</span>();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#e6db74">&#34;POST&#34;</span>.<span style="color:#a6e22e">equals</span>(method)) {
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Read request body</span>
</span></span><span style="display:flex;"><span>                String requestBody <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String(
</span></span><span style="display:flex;"><span>                    exchange.<span style="color:#a6e22e">getRequestBody</span>().<span style="color:#a6e22e">readAllBytes</span>(),
</span></span><span style="display:flex;"><span>                    StandardCharsets.<span style="color:#a6e22e">UTF_8</span>);
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                String jsonResponse <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &#34;echo&#34;: &#34;%s&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &#34;length&#34;: %d,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                        &#34;timestamp&#34;: &#34;%s&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &#34;&#34;&#34;</span>.<span style="color:#a6e22e">formatted</span>(requestBody, requestBody.<span style="color:#a6e22e">length</span>(), 
</span></span><span style="display:flex;"><span>                                  java.<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Instant</span>.<span style="color:#a6e22e">now</span>());
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                sendResponse(exchange, 200, jsonResponse, <span style="color:#e6db74">&#34;application/json&#34;</span>);
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                sendResponse(exchange, 405, <span style="color:#e6db74">&#34;Method not allowed&#34;</span>, <span style="color:#e6db74">&#34;text/plain&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Health check handler</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HealthHandler</span> <span style="color:#66d9ef">implements</span> HttpHandler {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">handle</span>(HttpExchange exchange) <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>            String healthResponse <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &#34;status&#34;: &#34;UP&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &#34;timestamp&#34;: &#34;%s&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                    &#34;uptime&#34;: &#34;%d ms&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                &#34;&#34;&#34;</span>.<span style="color:#a6e22e">formatted</span>(java.<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Instant</span>.<span style="color:#a6e22e">now</span>(), 
</span></span><span style="display:flex;"><span>                             System.<span style="color:#a6e22e">currentTimeMillis</span>());
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            sendResponse(exchange, 200, healthResponse, <span style="color:#e6db74">&#34;application/json&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Utility method to send response</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sendResponse</span>(HttpExchange exchange, <span style="color:#66d9ef">int</span> statusCode, 
</span></span><span style="display:flex;"><span>                                   String response, String contentType) 
</span></span><span style="display:flex;"><span>                                   <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>        exchange.<span style="color:#a6e22e">getResponseHeaders</span>().<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#34;Content-Type&#34;</span>, contentType);
</span></span><span style="display:flex;"><span>        exchange.<span style="color:#a6e22e">getResponseHeaders</span>().<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#34;Access-Control-Allow-Origin&#34;</span>, <span style="color:#e6db74">&#34;*&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> bytes <span style="color:#f92672">=</span> response.<span style="color:#a6e22e">getBytes</span>(StandardCharsets.<span style="color:#a6e22e">UTF_8</span>);
</span></span><span style="display:flex;"><span>        exchange.<span style="color:#a6e22e">sendResponseHeaders</span>(statusCode, bytes.<span style="color:#a6e22e">length</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> (OutputStream os <span style="color:#f92672">=</span> exchange.<span style="color:#a6e22e">getResponseBody</span>()) {
</span></span><span style="display:flex;"><span>            os.<span style="color:#a6e22e">write</span>(bytes);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>        SimpleHTTPServer server <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SimpleHTTPServer(8080);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Graceful shutdown</span>
</span></span><span style="display:flex;"><span>        Runtime.<span style="color:#a6e22e">getRuntime</span>().<span style="color:#a6e22e">addShutdownHook</span>(<span style="color:#66d9ef">new</span> Thread(server::stop));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        server.<span style="color:#a6e22e">start</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="lập-trình-mạng-nâng-cao">Lập trình mạng nâng cao<a hidden class="anchor" aria-hidden="true" href="#lập-trình-mạng-nâng-cao">#</a></h2>
<h3 id="1-non-blocking-io-với-nio">1. Non-blocking I/O với NIO<a hidden class="anchor" aria-hidden="true" href="#1-non-blocking-io-với-nio">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.channels.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.InetSocketAddress;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Iterator;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Set;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NIOServer</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Selector selector;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> ServerSocketChannel serverChannel;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> port;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">NIOServer</span>(<span style="color:#66d9ef">int</span> port) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">port</span> <span style="color:#f92672">=</span> port;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">start</span>() <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Initialize selector and server channel</span>
</span></span><span style="display:flex;"><span>        selector <span style="color:#f92672">=</span> Selector.<span style="color:#a6e22e">open</span>();
</span></span><span style="display:flex;"><span>        serverChannel <span style="color:#f92672">=</span> ServerSocketChannel.<span style="color:#a6e22e">open</span>();
</span></span><span style="display:flex;"><span>        serverChannel.<span style="color:#a6e22e">bind</span>(<span style="color:#66d9ef">new</span> InetSocketAddress(port));
</span></span><span style="display:flex;"><span>        serverChannel.<span style="color:#a6e22e">configureBlocking</span>(<span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Register server channel with selector</span>
</span></span><span style="display:flex;"><span>        serverChannel.<span style="color:#a6e22e">register</span>(selector, SelectionKey.<span style="color:#a6e22e">OP_ACCEPT</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;🚀 NIO Server started on port &#34;</span> <span style="color:#f92672">+</span> port);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">true</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Wait for events</span>
</span></span><span style="display:flex;"><span>            selector.<span style="color:#a6e22e">select</span>();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            Set<span style="color:#f92672">&lt;</span>SelectionKey<span style="color:#f92672">&gt;</span> selectedKeys <span style="color:#f92672">=</span> selector.<span style="color:#a6e22e">selectedKeys</span>();
</span></span><span style="display:flex;"><span>            Iterator<span style="color:#f92672">&lt;</span>SelectionKey<span style="color:#f92672">&gt;</span> iter <span style="color:#f92672">=</span> selectedKeys.<span style="color:#a6e22e">iterator</span>();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> (iter.<span style="color:#a6e22e">hasNext</span>()) {
</span></span><span style="display:flex;"><span>                SelectionKey key <span style="color:#f92672">=</span> iter.<span style="color:#a6e22e">next</span>();
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (key.<span style="color:#a6e22e">isAcceptable</span>()) {
</span></span><span style="display:flex;"><span>                    handleAccept(key);
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (key.<span style="color:#a6e22e">isReadable</span>()) {
</span></span><span style="display:flex;"><span>                    handleRead(key);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                iter.<span style="color:#a6e22e">remove</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">handleAccept</span>(SelectionKey key) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        ServerSocketChannel serverChannel <span style="color:#f92672">=</span> (ServerSocketChannel) key.<span style="color:#a6e22e">channel</span>();
</span></span><span style="display:flex;"><span>        SocketChannel clientChannel <span style="color:#f92672">=</span> serverChannel.<span style="color:#a6e22e">accept</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (clientChannel <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            clientChannel.<span style="color:#a6e22e">configureBlocking</span>(<span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>            clientChannel.<span style="color:#a6e22e">register</span>(selector, SelectionKey.<span style="color:#a6e22e">OP_READ</span>);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;✅ New client connected: &#34;</span> <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>                             clientChannel.<span style="color:#a6e22e">getRemoteAddress</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">handleRead</span>(SelectionKey key) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        SocketChannel clientChannel <span style="color:#f92672">=</span> (SocketChannel) key.<span style="color:#a6e22e">channel</span>();
</span></span><span style="display:flex;"><span>        ByteBuffer buffer <span style="color:#f92672">=</span> ByteBuffer.<span style="color:#a6e22e">allocate</span>(1024);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> bytesRead <span style="color:#f92672">=</span> clientChannel.<span style="color:#a6e22e">read</span>(buffer);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (bytesRead <span style="color:#f92672">==</span> <span style="color:#f92672">-</span>1) {
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Client disconnected</span>
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;❌ Client disconnected: &#34;</span> <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>                                 clientChannel.<span style="color:#a6e22e">getRemoteAddress</span>());
</span></span><span style="display:flex;"><span>                clientChannel.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>                key.<span style="color:#a6e22e">cancel</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (bytesRead <span style="color:#f92672">&gt;</span> 0) {
</span></span><span style="display:flex;"><span>                buffer.<span style="color:#a6e22e">flip</span>();
</span></span><span style="display:flex;"><span>                String message <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String(buffer.<span style="color:#a6e22e">array</span>(), 0, bytesRead);
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;📩 Received: &#34;</span> <span style="color:#f92672">+</span> message.<span style="color:#a6e22e">trim</span>());
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Echo back</span>
</span></span><span style="display:flex;"><span>                String response <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Echo: &#34;</span> <span style="color:#f92672">+</span> message;
</span></span><span style="display:flex;"><span>                ByteBuffer responseBuffer <span style="color:#f92672">=</span> ByteBuffer.<span style="color:#a6e22e">wrap</span>(response.<span style="color:#a6e22e">getBytes</span>());
</span></span><span style="display:flex;"><span>                clientChannel.<span style="color:#a6e22e">write</span>(responseBuffer);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Error reading from client: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>            clientChannel.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>            key.<span style="color:#a6e22e">cancel</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">stop</span>() <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (selector <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) selector.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (serverChannel <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) serverChannel.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;🔴 NIO Server stopped&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        NIOServer server <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> NIOServer(9090);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Graceful shutdown</span>
</span></span><span style="display:flex;"><span>        Runtime.<span style="color:#a6e22e">getRuntime</span>().<span style="color:#a6e22e">addShutdownHook</span>(<span style="color:#66d9ef">new</span> Thread(() <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                server.<span style="color:#a6e22e">stop</span>();
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>                e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        server.<span style="color:#a6e22e">start</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2-websocket-implementation">2. WebSocket Implementation<a hidden class="anchor" aria-hidden="true" href="#2-websocket-implementation">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.URI;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.http.HttpClient;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.http.WebSocket;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.nio.ByteBuffer;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.CompletionStage;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.CountDownLatch;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">WebSocketExample</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// WebSocket Client</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">WebSocketClient</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> WebSocket webSocket;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> CountDownLatch connectionLatch <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> CountDownLatch(1);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">connect</span>(String uri) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>            HttpClient client <span style="color:#f92672">=</span> HttpClient.<span style="color:#a6e22e">newHttpClient</span>();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            WebSocket.<span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> client.<span style="color:#a6e22e">newWebSocketBuilder</span>();
</span></span><span style="display:flex;"><span>            webSocket <span style="color:#f92672">=</span> builder.<span style="color:#a6e22e">buildAsync</span>(URI.<span style="color:#a6e22e">create</span>(uri), <span style="color:#66d9ef">new</span> WebSocketListener())
</span></span><span style="display:flex;"><span>                              .<span style="color:#a6e22e">join</span>();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            connectionLatch.<span style="color:#a6e22e">await</span>(); <span style="color:#75715e">// Wait for connection</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sendMessage</span>(String message) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (webSocket <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>                webSocket.<span style="color:#a6e22e">sendText</span>(message, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">close</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (webSocket <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>                webSocket.<span style="color:#a6e22e">sendClose</span>(WebSocket.<span style="color:#a6e22e">NORMAL_CLOSURE</span>, <span style="color:#e6db74">&#34;Goodbye&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">WebSocketListener</span> <span style="color:#66d9ef">implements</span> WebSocket.<span style="color:#a6e22e">Listener</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onOpen</span>(WebSocket webSocket) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;🔗 WebSocket connected&#34;</span>);
</span></span><span style="display:flex;"><span>                connectionLatch.<span style="color:#a6e22e">countDown</span>();
</span></span><span style="display:flex;"><span>                WebSocket.<span style="color:#a6e22e">Listener</span>.<span style="color:#a6e22e">super</span>.<span style="color:#a6e22e">onOpen</span>(webSocket);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> CompletionStage<span style="color:#f92672">&lt;?&gt;</span> onText(WebSocket webSocket, 
</span></span><span style="display:flex;"><span>                                           CharSequence data, <span style="color:#66d9ef">boolean</span> last) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;📩 Received: &#34;</span> <span style="color:#f92672">+</span> data);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> WebSocket.<span style="color:#a6e22e">Listener</span>.<span style="color:#a6e22e">super</span>.<span style="color:#a6e22e">onText</span>(webSocket, data, last);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> CompletionStage<span style="color:#f92672">&lt;?&gt;</span> onBinary(WebSocket webSocket, 
</span></span><span style="display:flex;"><span>                                             ByteBuffer data, <span style="color:#66d9ef">boolean</span> last) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;📦 Received binary data: &#34;</span> <span style="color:#f92672">+</span> data.<span style="color:#a6e22e">remaining</span>() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; bytes&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> WebSocket.<span style="color:#a6e22e">Listener</span>.<span style="color:#a6e22e">super</span>.<span style="color:#a6e22e">onBinary</span>(webSocket, data, last);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> CompletionStage<span style="color:#f92672">&lt;?&gt;</span> onClose(WebSocket webSocket, 
</span></span><span style="display:flex;"><span>                                            <span style="color:#66d9ef">int</span> statusCode, String reason) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;❌ WebSocket closed: &#34;</span> <span style="color:#f92672">+</span> reason);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> WebSocket.<span style="color:#a6e22e">Listener</span>.<span style="color:#a6e22e">super</span>.<span style="color:#a6e22e">onClose</span>(webSocket, statusCode, reason);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onError</span>(WebSocket webSocket, Throwable error) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;🚨 WebSocket error: &#34;</span> <span style="color:#f92672">+</span> error.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>                WebSocket.<span style="color:#a6e22e">Listener</span>.<span style="color:#a6e22e">super</span>.<span style="color:#a6e22e">onError</span>(webSocket, error);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Example WebSocket client usage</span>
</span></span><span style="display:flex;"><span>        WebSocketClient client <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> WebSocketClient();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Connect to a WebSocket echo server</span>
</span></span><span style="display:flex;"><span>        client.<span style="color:#a6e22e">connect</span>(<span style="color:#e6db74">&#34;wss://echo.websocket.org&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Send some messages</span>
</span></span><span style="display:flex;"><span>        client.<span style="color:#a6e22e">sendMessage</span>(<span style="color:#e6db74">&#34;Hello WebSocket!&#34;</span>);
</span></span><span style="display:flex;"><span>        client.<span style="color:#a6e22e">sendMessage</span>(<span style="color:#e6db74">&#34;This is a test message&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Keep alive for a while</span>
</span></span><span style="display:flex;"><span>        Thread.<span style="color:#a6e22e">sleep</span>(3000);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        client.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="security-trong-lập-trình-mạng">Security trong lập trình mạng<a hidden class="anchor" aria-hidden="true" href="#security-trong-lập-trình-mạng">#</a></h2>
<h3 id="1-ssltls-implementation">1. SSL/TLS Implementation<a hidden class="anchor" aria-hidden="true" href="#1-ssltls-implementation">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.net.ssl.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.security.cert.X509Certificate;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SSLExample</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// SSL Client</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SSLClient</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">connectToSSLServer</span>(String hostname, <span style="color:#66d9ef">int</span> port) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Create SSL context</span>
</span></span><span style="display:flex;"><span>            SSLContext sslContext <span style="color:#f92672">=</span> SSLContext.<span style="color:#a6e22e">getInstance</span>(<span style="color:#e6db74">&#34;TLS&#34;</span>);
</span></span><span style="display:flex;"><span>            sslContext.<span style="color:#a6e22e">init</span>(<span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">new</span> TrustManager<span style="color:#f92672">[]</span>{<span style="color:#66d9ef">new</span> TrustAllCertificates()}, 
</span></span><span style="display:flex;"><span>                          <span style="color:#66d9ef">new</span> java.<span style="color:#a6e22e">security</span>.<span style="color:#a6e22e">SecureRandom</span>());
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Create SSL socket factory</span>
</span></span><span style="display:flex;"><span>            SSLSocketFactory factory <span style="color:#f92672">=</span> sslContext.<span style="color:#a6e22e">getSocketFactory</span>();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> (SSLSocket socket <span style="color:#f92672">=</span> (SSLSocket) factory.<span style="color:#a6e22e">createSocket</span>(hostname, port)) {
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Enable all supported protocols</span>
</span></span><span style="display:flex;"><span>                socket.<span style="color:#a6e22e">setEnabledProtocols</span>(socket.<span style="color:#a6e22e">getSupportedProtocols</span>());
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Start handshake</span>
</span></span><span style="display:flex;"><span>                socket.<span style="color:#a6e22e">startHandshake</span>();
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Get session info</span>
</span></span><span style="display:flex;"><span>                SSLSession session <span style="color:#f92672">=</span> socket.<span style="color:#a6e22e">getSession</span>();
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;🔐 SSL Session Info:&#34;</span>);
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Protocol: &#34;</span> <span style="color:#f92672">+</span> session.<span style="color:#a6e22e">getProtocol</span>());
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Cipher Suite: &#34;</span> <span style="color:#f92672">+</span> session.<span style="color:#a6e22e">getCipherSuite</span>());
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Peer Principal: &#34;</span> <span style="color:#f92672">+</span> session.<span style="color:#a6e22e">getPeerPrincipal</span>());
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Send HTTP request</span>
</span></span><span style="display:flex;"><span>                PrintWriter out <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PrintWriter(
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">new</span> OutputStreamWriter(socket.<span style="color:#a6e22e">getOutputStream</span>()), <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>                out.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;GET / HTTP/1.1&#34;</span>);
</span></span><span style="display:flex;"><span>                out.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Host: &#34;</span> <span style="color:#f92672">+</span> hostname);
</span></span><span style="display:flex;"><span>                out.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Connection: close&#34;</span>);
</span></span><span style="display:flex;"><span>                out.<span style="color:#a6e22e">println</span>();
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Read response</span>
</span></span><span style="display:flex;"><span>                BufferedReader in <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">new</span> InputStreamReader(socket.<span style="color:#a6e22e">getInputStream</span>()));
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                String line;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">int</span> lineCount <span style="color:#f92672">=</span> 0;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">while</span> ((line <span style="color:#f92672">=</span> in.<span style="color:#a6e22e">readLine</span>()) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> lineCount <span style="color:#f92672">&lt;</span> 10) {
</span></span><span style="display:flex;"><span>                    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(line);
</span></span><span style="display:flex;"><span>                    lineCount<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Trust all certificates (for testing only!)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TrustAllCertificates</span> <span style="color:#66d9ef">implements</span> X509TrustManager {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">checkClientTrusted</span>(X509Certificate<span style="color:#f92672">[]</span> chain, String authType) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Trust all client certificates</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">checkServerTrusted</span>(X509Certificate<span style="color:#f92672">[]</span> chain, String authType) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Trust all server certificates</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> X509Certificate<span style="color:#f92672">[]</span> <span style="color:#a6e22e">getAcceptedIssuers</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> X509Certificate<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        SSLClient client <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SSLClient();
</span></span><span style="display:flex;"><span>        client.<span style="color:#a6e22e">connectToSSLServer</span>(<span style="color:#e6db74">&#34;www.google.com&#34;</span>, 443);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2-secure-authentication">2. Secure Authentication<a hidden class="anchor" aria-hidden="true" href="#2-secure-authentication">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.security.MessageDigest;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.security.SecureRandom;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Base64;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.crypto.Cipher;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.crypto.KeyGenerator;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.crypto.SecretKey;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.crypto.spec.SecretKeySpec;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NetworkSecurity</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Password hashing with salt</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PasswordSecurity</span> {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String <span style="color:#a6e22e">generateSalt</span>() {
</span></span><span style="display:flex;"><span>            SecureRandom random <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SecureRandom();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> salt <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[</span>16<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>            random.<span style="color:#a6e22e">nextBytes</span>(salt);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> Base64.<span style="color:#a6e22e">getEncoder</span>().<span style="color:#a6e22e">encodeToString</span>(salt);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String <span style="color:#a6e22e">hashPassword</span>(String password, String salt) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>            MessageDigest md <span style="color:#f92672">=</span> MessageDigest.<span style="color:#a6e22e">getInstance</span>(<span style="color:#e6db74">&#34;SHA-256&#34;</span>);
</span></span><span style="display:flex;"><span>            md.<span style="color:#a6e22e">update</span>(Base64.<span style="color:#a6e22e">getDecoder</span>().<span style="color:#a6e22e">decode</span>(salt));
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> hashedPassword <span style="color:#f92672">=</span> md.<span style="color:#a6e22e">digest</span>(password.<span style="color:#a6e22e">getBytes</span>(<span style="color:#e6db74">&#34;UTF-8&#34;</span>));
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> Base64.<span style="color:#a6e22e">getEncoder</span>().<span style="color:#a6e22e">encodeToString</span>(hashedPassword);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">verifyPassword</span>(String password, String salt, 
</span></span><span style="display:flex;"><span>                                           String hashedPassword) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>            String newHash <span style="color:#f92672">=</span> hashPassword(password, salt);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> newHash.<span style="color:#a6e22e">equals</span>(hashedPassword);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Simple encryption/decryption</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SimpleEncryption</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String ALGORITHM <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;AES&#34;</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> SecretKey <span style="color:#a6e22e">generateKey</span>() <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>            KeyGenerator keyGenerator <span style="color:#f92672">=</span> KeyGenerator.<span style="color:#a6e22e">getInstance</span>(ALGORITHM);
</span></span><span style="display:flex;"><span>            keyGenerator.<span style="color:#a6e22e">init</span>(256);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> keyGenerator.<span style="color:#a6e22e">generateKey</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String <span style="color:#a6e22e">encrypt</span>(String data, SecretKey key) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>            Cipher cipher <span style="color:#f92672">=</span> Cipher.<span style="color:#a6e22e">getInstance</span>(ALGORITHM);
</span></span><span style="display:flex;"><span>            cipher.<span style="color:#a6e22e">init</span>(Cipher.<span style="color:#a6e22e">ENCRYPT_MODE</span>, key);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> encryptedData <span style="color:#f92672">=</span> cipher.<span style="color:#a6e22e">doFinal</span>(data.<span style="color:#a6e22e">getBytes</span>());
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> Base64.<span style="color:#a6e22e">getEncoder</span>().<span style="color:#a6e22e">encodeToString</span>(encryptedData);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String <span style="color:#a6e22e">decrypt</span>(String encryptedData, SecretKey key) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>            Cipher cipher <span style="color:#f92672">=</span> Cipher.<span style="color:#a6e22e">getInstance</span>(ALGORITHM);
</span></span><span style="display:flex;"><span>            cipher.<span style="color:#a6e22e">init</span>(Cipher.<span style="color:#a6e22e">DECRYPT_MODE</span>, key);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> decodedData <span style="color:#f92672">=</span> Base64.<span style="color:#a6e22e">getDecoder</span>().<span style="color:#a6e22e">decode</span>(encryptedData);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> decryptedData <span style="color:#f92672">=</span> cipher.<span style="color:#a6e22e">doFinal</span>(decodedData);
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> String(decryptedData);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Token-based authentication</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TokenAuth</span> {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String <span style="color:#a6e22e">generateToken</span>(String username) {
</span></span><span style="display:flex;"><span>            String timestamp <span style="color:#f92672">=</span> String.<span style="color:#a6e22e">valueOf</span>(System.<span style="color:#a6e22e">currentTimeMillis</span>());
</span></span><span style="display:flex;"><span>            String tokenData <span style="color:#f92672">=</span> username <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span> <span style="color:#f92672">+</span> timestamp;
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> Base64.<span style="color:#a6e22e">getEncoder</span>().<span style="color:#a6e22e">encodeToString</span>(tokenData.<span style="color:#a6e22e">getBytes</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">validateToken</span>(String token, <span style="color:#66d9ef">long</span> maxAge) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                String decoded <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String(Base64.<span style="color:#a6e22e">getDecoder</span>().<span style="color:#a6e22e">decode</span>(token));
</span></span><span style="display:flex;"><span>                String<span style="color:#f92672">[]</span> parts <span style="color:#f92672">=</span> decoded.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;:&#34;</span>);
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (parts.<span style="color:#a6e22e">length</span> <span style="color:#f92672">!=</span> 2) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">long</span> timestamp <span style="color:#f92672">=</span> Long.<span style="color:#a6e22e">parseLong</span>(parts<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">long</span> currentTime <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> (currentTime <span style="color:#f92672">-</span> timestamp) <span style="color:#f92672">&lt;=</span> maxAge;
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String <span style="color:#a6e22e">getUserFromToken</span>(String token) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                String decoded <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String(Base64.<span style="color:#a6e22e">getDecoder</span>().<span style="color:#a6e22e">decode</span>(token));
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> decoded.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;:&#34;</span>)<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Password security example</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;=== Password Security ===&#34;</span>);
</span></span><span style="display:flex;"><span>        String password <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;mySecurePassword123&#34;</span>;
</span></span><span style="display:flex;"><span>        String salt <span style="color:#f92672">=</span> PasswordSecurity.<span style="color:#a6e22e">generateSalt</span>();
</span></span><span style="display:flex;"><span>        String hashedPassword <span style="color:#f92672">=</span> PasswordSecurity.<span style="color:#a6e22e">hashPassword</span>(password, salt);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Original: &#34;</span> <span style="color:#f92672">+</span> password);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Salt: &#34;</span> <span style="color:#f92672">+</span> salt);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Hashed: &#34;</span> <span style="color:#f92672">+</span> hashedPassword);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Verified: &#34;</span> <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>            PasswordSecurity.<span style="color:#a6e22e">verifyPassword</span>(password, salt, hashedPassword));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Encryption example</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\n=== Encryption ===&#34;</span>);
</span></span><span style="display:flex;"><span>        SecretKey key <span style="color:#f92672">=</span> SimpleEncryption.<span style="color:#a6e22e">generateKey</span>();
</span></span><span style="display:flex;"><span>        String originalData <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Sensitive network data&#34;</span>;
</span></span><span style="display:flex;"><span>        String encrypted <span style="color:#f92672">=</span> SimpleEncryption.<span style="color:#a6e22e">encrypt</span>(originalData, key);
</span></span><span style="display:flex;"><span>        String decrypted <span style="color:#f92672">=</span> SimpleEncryption.<span style="color:#a6e22e">decrypt</span>(encrypted, key);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Original: &#34;</span> <span style="color:#f92672">+</span> originalData);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Encrypted: &#34;</span> <span style="color:#f92672">+</span> encrypted);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Decrypted: &#34;</span> <span style="color:#f92672">+</span> decrypted);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Token authentication example</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\n=== Token Authentication ===&#34;</span>);
</span></span><span style="display:flex;"><span>        String token <span style="color:#f92672">=</span> TokenAuth.<span style="color:#a6e22e">generateToken</span>(<span style="color:#e6db74">&#34;user123&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Generated token: &#34;</span> <span style="color:#f92672">+</span> token);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;User from token: &#34;</span> <span style="color:#f92672">+</span> TokenAuth.<span style="color:#a6e22e">getUserFromToken</span>(token));
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Token valid: &#34;</span> <span style="color:#f92672">+</span> TokenAuth.<span style="color:#a6e22e">validateToken</span>(token, 60000)); <span style="color:#75715e">// 1 minute</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="performance-và-monitoring">Performance và Monitoring<a hidden class="anchor" aria-hidden="true" href="#performance-và-monitoring">#</a></h2>
<h3 id="1-connection-pooling">1. Connection Pooling<a hidden class="anchor" aria-hidden="true" href="#1-connection-pooling">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.sql.Connection;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.sql.DriverManager;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.BlockingQueue;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.LinkedBlockingQueue;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.TimeUnit;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ConnectionPool</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> BlockingQueue<span style="color:#f92672">&lt;</span>Connection<span style="color:#f92672">&gt;</span> pool;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> maxPoolSize;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String url;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String username;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String password;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ConnectionPool</span>(String url, String username, String password, 
</span></span><span style="display:flex;"><span>                         <span style="color:#66d9ef">int</span> maxPoolSize) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">url</span> <span style="color:#f92672">=</span> url;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">username</span> <span style="color:#f92672">=</span> username;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">password</span> <span style="color:#f92672">=</span> password;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">maxPoolSize</span> <span style="color:#f92672">=</span> maxPoolSize;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">pool</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> LinkedBlockingQueue<span style="color:#f92672">&lt;&gt;</span>(maxPoolSize);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Initialize pool</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0; i <span style="color:#f92672">&lt;</span> maxPoolSize; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            pool.<span style="color:#a6e22e">offer</span>(createConnection());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Connection <span style="color:#a6e22e">createConnection</span>() <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> DriverManager.<span style="color:#a6e22e">getConnection</span>(url, username, password);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Connection <span style="color:#a6e22e">getConnection</span>() <span style="color:#66d9ef">throws</span> InterruptedException {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> pool.<span style="color:#a6e22e">poll</span>(10, TimeUnit.<span style="color:#a6e22e">SECONDS</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">releaseConnection</span>(Connection connection) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (connection <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            pool.<span style="color:#a6e22e">offer</span>(connection);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">closeAll</span>() <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Connection connection;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> ((connection <span style="color:#f92672">=</span> pool.<span style="color:#a6e22e">poll</span>()) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>            connection.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getAvailableConnections</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> pool.<span style="color:#a6e22e">size</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="2-network-monitoring">2. Network Monitoring<a hidden class="anchor" aria-hidden="true" href="#2-network-monitoring">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.atomic.AtomicLong;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NetworkMonitor</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> AtomicLong totalConnections <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AtomicLong(0);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> AtomicLong activeConnections <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AtomicLong(0);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> AtomicLong totalBytesReceived <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AtomicLong(0);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> AtomicLong totalBytesSent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AtomicLong(0);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> ScheduledExecutorService scheduler <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>        Executors.<span style="color:#a6e22e">newScheduledThreadPool</span>(1);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">startMonitoring</span>() {
</span></span><span style="display:flex;"><span>        scheduler.<span style="color:#a6e22e">scheduleAtFixedRate</span>(<span style="color:#66d9ef">this</span>::printStats, 0, 10, TimeUnit.<span style="color:#a6e22e">SECONDS</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">recordConnection</span>() {
</span></span><span style="display:flex;"><span>        totalConnections.<span style="color:#a6e22e">incrementAndGet</span>();
</span></span><span style="display:flex;"><span>        activeConnections.<span style="color:#a6e22e">incrementAndGet</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">recordDisconnection</span>() {
</span></span><span style="display:flex;"><span>        activeConnections.<span style="color:#a6e22e">decrementAndGet</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">recordBytesReceived</span>(<span style="color:#66d9ef">long</span> bytes) {
</span></span><span style="display:flex;"><span>        totalBytesReceived.<span style="color:#a6e22e">addAndGet</span>(bytes);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">recordBytesSent</span>(<span style="color:#66d9ef">long</span> bytes) {
</span></span><span style="display:flex;"><span>        totalBytesSent.<span style="color:#a6e22e">addAndGet</span>(bytes);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printStats</span>() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;=== Network Statistics ===&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Total Connections: &#34;</span> <span style="color:#f92672">+</span> totalConnections.<span style="color:#a6e22e">get</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Active Connections: &#34;</span> <span style="color:#f92672">+</span> activeConnections.<span style="color:#a6e22e">get</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Total Bytes Received: &#34;</span> <span style="color:#f92672">+</span> formatBytes(totalBytesReceived.<span style="color:#a6e22e">get</span>()));
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Total Bytes Sent: &#34;</span> <span style="color:#f92672">+</span> formatBytes(totalBytesSent.<span style="color:#a6e22e">get</span>()));
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Memory Usage: &#34;</span> <span style="color:#f92672">+</span> getMemoryUsage());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String <span style="color:#a6e22e">formatBytes</span>(<span style="color:#66d9ef">long</span> bytes) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (bytes <span style="color:#f92672">&lt;</span> 1024) <span style="color:#66d9ef">return</span> bytes <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; B&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> exp <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span>) (Math.<span style="color:#a6e22e">log</span>(bytes) <span style="color:#f92672">/</span> Math.<span style="color:#a6e22e">log</span>(1024));
</span></span><span style="display:flex;"><span>        String pre <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;KMGTPE&#34;</span>.<span style="color:#a6e22e">charAt</span>(exp <span style="color:#f92672">-</span> 1) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;%.1f %sB&#34;</span>, bytes <span style="color:#f92672">/</span> Math.<span style="color:#a6e22e">pow</span>(1024, exp), pre);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String <span style="color:#a6e22e">getMemoryUsage</span>() {
</span></span><span style="display:flex;"><span>        Runtime runtime <span style="color:#f92672">=</span> Runtime.<span style="color:#a6e22e">getRuntime</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> used <span style="color:#f92672">=</span> runtime.<span style="color:#a6e22e">totalMemory</span>() <span style="color:#f92672">-</span> runtime.<span style="color:#a6e22e">freeMemory</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> max <span style="color:#f92672">=</span> runtime.<span style="color:#a6e22e">maxMemory</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> String.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#34;%.1f/%.1f MB (%.1f%%)&#34;</span>, 
</span></span><span style="display:flex;"><span>                           used <span style="color:#f92672">/</span> 1024.<span style="color:#a6e22e">0</span> <span style="color:#f92672">/</span> 1024.<span style="color:#a6e22e">0</span>,
</span></span><span style="display:flex;"><span>                           max <span style="color:#f92672">/</span> 1024.<span style="color:#a6e22e">0</span> <span style="color:#f92672">/</span> 1024.<span style="color:#a6e22e">0</span>,
</span></span><span style="display:flex;"><span>                           (used <span style="color:#f92672">*</span> 100.<span style="color:#a6e22e">0</span>) <span style="color:#f92672">/</span> max);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">shutdown</span>() {
</span></span><span style="display:flex;"><span>        scheduler.<span style="color:#a6e22e">shutdown</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="best-practices-và-design-patterns">Best Practices và Design Patterns<a hidden class="anchor" aria-hidden="true" href="#best-practices-và-design-patterns">#</a></h2>
<h3 id="1-observer-pattern-cho-network-events">1. Observer Pattern cho Network Events<a hidden class="anchor" aria-hidden="true" href="#1-observer-pattern-cho-network-events">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.List;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.concurrent.CopyOnWriteArrayList;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Event definitions</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">NetworkEvent</span> {
</span></span><span style="display:flex;"><span>    String <span style="color:#a6e22e">getType</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">long</span> <span style="color:#a6e22e">getTimestamp</span>();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ConnectionEvent</span> <span style="color:#66d9ef">implements</span> NetworkEvent {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String type;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String clientId;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">long</span> timestamp;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ConnectionEvent</span>(String type, String clientId) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">type</span> <span style="color:#f92672">=</span> type;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">clientId</span> <span style="color:#f92672">=</span> clientId;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">timestamp</span> <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getType</span>() { <span style="color:#66d9ef">return</span> type; }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">long</span> <span style="color:#a6e22e">getTimestamp</span>() { <span style="color:#66d9ef">return</span> timestamp; }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getClientId</span>() { <span style="color:#66d9ef">return</span> clientId; }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MessageEvent</span> <span style="color:#66d9ef">implements</span> NetworkEvent {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String sender;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String content;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">long</span> timestamp;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MessageEvent</span>(String sender, String content) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">sender</span> <span style="color:#f92672">=</span> sender;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> content;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">timestamp</span> <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getType</span>() { <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;MESSAGE&#34;</span>; }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">long</span> <span style="color:#a6e22e">getTimestamp</span>() { <span style="color:#66d9ef">return</span> timestamp; }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getSender</span>() { <span style="color:#66d9ef">return</span> sender; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getContent</span>() { <span style="color:#66d9ef">return</span> content; }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Observer interface</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">NetworkEventListener</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onNetworkEvent</span>(NetworkEvent event);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Observable network manager</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NetworkEventManager</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> List<span style="color:#f92672">&lt;</span>NetworkEventListener<span style="color:#f92672">&gt;</span> listeners <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> CopyOnWriteArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">addListener</span>(NetworkEventListener listener) {
</span></span><span style="display:flex;"><span>        listeners.<span style="color:#a6e22e">add</span>(listener);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">removeListener</span>(NetworkEventListener listener) {
</span></span><span style="display:flex;"><span>        listeners.<span style="color:#a6e22e">remove</span>(listener);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fireEvent</span>(NetworkEvent event) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (NetworkEventListener listener : listeners) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                listener.<span style="color:#a6e22e">onNetworkEvent</span>(event);
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Error in event listener: &#34;</span> <span style="color:#f92672">+</span> e.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Example listeners</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LoggingListener</span> <span style="color:#66d9ef">implements</span> NetworkEventListener {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onNetworkEvent</span>(NetworkEvent event) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;[LOG] &#34;</span> <span style="color:#f92672">+</span> event.<span style="color:#a6e22e">getType</span>() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; at &#34;</span> <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>                          <span style="color:#66d9ef">new</span> java.<span style="color:#a6e22e">util</span>.<span style="color:#a6e22e">Date</span>(event.<span style="color:#a6e22e">getTimestamp</span>()));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MetricsListener</span> <span style="color:#66d9ef">implements</span> NetworkEventListener {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">long</span> messageCount <span style="color:#f92672">=</span> 0;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">long</span> connectionCount <span style="color:#f92672">=</span> 0;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onNetworkEvent</span>(NetworkEvent event) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span> (event.<span style="color:#a6e22e">getType</span>()) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;MESSAGE&#34;</span> <span style="color:#f92672">-&gt;</span> messageCount<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;CONNECT&#34;</span>, <span style="color:#e6db74">&#34;DISCONNECT&#34;</span> <span style="color:#f92672">-&gt;</span> connectionCount<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (messageCount <span style="color:#f92672">%</span> 100 <span style="color:#f92672">==</span> 0) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;[METRICS] Messages: &#34;</span> <span style="color:#f92672">+</span> messageCount <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>                             <span style="color:#e6db74">&#34;, Connections: &#34;</span> <span style="color:#f92672">+</span> connectionCount);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="kết-luận-và-roadmap-học-tập">Kết luận và Roadmap học tập<a hidden class="anchor" aria-hidden="true" href="#kết-luận-và-roadmap-học-tập">#</a></h2>
<h3 id="roadmap-học-lập-trình-mạng">Roadmap học lập trình mạng<a hidden class="anchor" aria-hidden="true" href="#roadmap-học-lập-trình-mạng">#</a></h3>
<pre tabindex="0"><code>📚 Giai đoạn 1: Nền tảng (2-3 tháng)
├── Mô hình OSI/TCP-IP
├── Socket programming cơ bản
├── HTTP/HTTPS protocols
└── Basic security concepts

🔧 Giai đoạn 2: Thực hành (3-4 tháng)
├── Xây dựng chat application
├── RESTful API development
├── Database integration
└── Error handling &amp; logging

⚡ Giai đoạn 3: Nâng cao (4-6 tháng)
├── Non-blocking I/O (NIO)
├── WebSocket programming
├── Microservices architecture
└── Performance optimization

🚀 Giai đoạn 4: Chuyên sâu (6+ tháng)
├── Distributed systems
├── Message queues (RabbitMQ, Kafka)
├── Load balancing &amp; clustering
└── Container deployment (Docker, K8s)
</code></pre><h3 id="tài-nguyên-học-tập-được-khuyến-nghị">Tài nguyên học tập được khuyến nghị<a hidden class="anchor" aria-hidden="true" href="#tài-nguyên-học-tập-được-khuyến-nghị">#</a></h3>
<p><strong>📖 Sách:</strong></p>
<ul>
<li>&ldquo;Java Network Programming&rdquo; - Elliotte Rusty Harold</li>
<li>&ldquo;TCP/IP Illustrated&rdquo; - W. Richard Stevens</li>
<li>&ldquo;Designing Data-Intensive Applications&rdquo; - Martin Kleppmann</li>
</ul>
<p><strong>🌐 Online Resources:</strong></p>
<ul>
<li>Oracle Java Networking Documentation</li>
<li>RFC specifications (RFC 793 for TCP, RFC 791 for IP)</li>
<li>Baeldung Java tutorials</li>
</ul>
<p><strong>🛠️ Tools cần thành thạo:</strong></p>
<ul>
<li>Wireshark (packet analysis)</li>
<li>Postman (API testing)</li>
<li>JProfiler (performance monitoring)</li>
<li>Docker (containerization)</li>
</ul>
<h3 id="dự-án-thực-tế-nên-làm">Dự án thực tế nên làm<a hidden class="anchor" aria-hidden="true" href="#dự-án-thực-tế-nên-làm">#</a></h3>
<ol>
<li><strong>Chat Application</strong> - Học socket và threading</li>
<li><strong>HTTP Proxy Server</strong> - Hiểu HTTP protocol</li>
<li><strong>File Transfer System</strong> - Xử lý binary data</li>
<li><strong>REST API Gateway</strong> - Microservices communication</li>
<li><strong>Real-time Game Server</strong> - Low-latency networking</li>
</ol>
<p>Lập trình mạng là một lĩnh vực rộng lớn và thú vị. Với nền tảng vững chắc và thực hành đều đặn, bạn sẽ có thể xây dựng những hệ thống mạng mạnh mẽ và hiệu quả!</p>
<hr>
<p><em>Bài viết này là phần đầu tiên trong series &ldquo;Lập trình mạng với Java&rdquo;. Hãy theo dõi blog để cập nhật những bài viết chi tiết về các chủ đề cụ thể!</em></p>


    </div>
  </div>
</article>

</div>

<style>
   
  .full-width-container {
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    margin-right: calc(-50vw + 50%);
    padding: 0;
  }

   
  .content-wrapper {
    width: 100%;
    padding: 0 1rem;
    box-sizing: border-box;
    margin: 0 auto;
  }

  @media (min-width: 768px) {
    .content-wrapper {
      padding: 0 2rem;
    }
  }

  @media (min-width: 1200px) {
    .content-wrapper {
      padding: 0 3rem;
      max-width: 1400px;
    }
  }

  @media (min-width: 1600px) {
    .content-wrapper {
      padding: 0 4rem;
      max-width: 1600px;
    }
  }

   
  .post-header {
    background: white;
    padding: 3rem 0;
    border-bottom: 1px solid var(--soft-green);
    box-shadow: 0 4px 20px var(--shadow);
  }

  .post-title {
    font-size: 3rem;
    color: var(--primary-green);
    margin-bottom: 1rem;
    font-weight: 700;
    line-height: 1.2;
  }

  .post-description {
    font-size: 1.2rem;
    color: var(--text-dark);
    opacity: 0.8;
    margin-bottom: 2rem;
    line-height: 1.6;
  }

  .post-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    align-items: center;
    padding: 1.5rem 0;
    border-top: 1px solid var(--soft-green);
  }

  .post-date {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--secondary-green);
    font-size: 0.95rem;
  }

  .post-tags {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .tag {
    background: var(--accent-green);
    color: var(--primary-green);
    padding: 0.4rem 0.8rem;
    border-radius: 15px;
    text-decoration: none;
    font-size: 0.85rem;
    font-weight: 500;
    transition: all 0.3s ease;
  }

  .tag:hover {
    background: var(--primary-green);
    color: var(--text-light);
    transform: translateY(-2px);
  }

  .reading-stats {
    display: flex;
    gap: 1.5rem;
    color: var(--secondary-green);
    font-size: 0.9rem;
  }

  .reading-time,
  .word-count {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

   
  .post-cover-section {
    width: 100%;
  }

  .post-cover-full {
    width: 100%;
    height: 400px;
    overflow: hidden;
  }

  .post-cover-full img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

   
  .post-content-section {
    background: white;
    padding: 4rem 0;
  }

  .post-content {
    font-size: 1.1rem;
    line-height: 1.8;
    color: var(--text-dark);
    max-width: 900px;
    margin: 0 auto;
  }

  .post-content h1,
  .post-content h2,
  .post-content h3,
  .post-content h4 {
    color: var(--primary-green);
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-weight: 600;
  }

  .post-content h1 {
    font-size: 2.5rem;
    border-bottom: 3px solid var(--accent-green);
    padding-bottom: 0.5rem;
  }

  .post-content h2 {
    font-size: 2rem;
    border-left: 4px solid var(--primary-green);
    padding-left: 1rem;
  }

  .post-content h3 {
    font-size: 1.5rem;
    color: var(--secondary-green);
  }

  .post-content p {
    margin-bottom: 1.5rem;
  }

  .post-content ul,
  .post-content ol {
    margin-bottom: 1.5rem;
    padding-left: 2rem;
  }

  .post-content li {
    margin-bottom: 0.5rem;
  }

  .post-content blockquote {
    background: var(--soft-green);
    border-left: 4px solid var(--primary-green);
    padding: 1.5rem;
    margin: 2rem 0;
    border-radius: 0 10px 10px 0;
    font-style: italic;
  }

  .post-content code {
    background: var(--soft-green);
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-family: 'Fira Code', 'Consolas', monospace;
    color: var(--primary-green);
  }

  .post-content pre {
    background: var(--dark-green);
    color: var(--text-light);
    padding: 1.5rem;
    border-radius: 10px;
    overflow-x: auto;
    margin: 2rem 0;
  }

  .post-content pre code {
    background: transparent;
    color: inherit;
    padding: 0;
  }

  .post-content img {
    max-width: 100%;
    height: auto;
    border-radius: 10px;
    margin: 2rem 0;
    box-shadow: 0 8px 25px var(--shadow);
  }

  .post-content table {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
    overflow-x: auto;
    display: block;
    white-space: nowrap;
  }

  .post-content th,
  .post-content td {
    border: 1px solid var(--soft-green);
    padding: 0.75rem;
    text-align: left;
  }

  .post-content th {
    background: var(--accent-green);
    color: var(--primary-green);
    font-weight: 600;
  }

   
  .post-navigation {
    background: var(--soft-green);
    padding: 3rem 0;
  }

  .post-nav {
    display: flex;
    justify-content: space-between;
    gap: 2rem;
  }

  .nav-link {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background: white;
    border-radius: 15px;
    text-decoration: none;
    color: var(--text-dark);
    transition: all 0.3s ease;
    flex: 1;
    max-width: 400px;
    box-shadow: 0 4px 15px var(--shadow);
  }

  .nav-link:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px var(--shadow);
  }

  .nav-link.prev {
    margin-right: auto;
  }

  .nav-link.next {
    margin-left: auto;
    flex-direction: row-reverse;
  }

  .nav-content {
    flex: 1;
  }

  .nav-label {
    display: block;
    font-size: 0.85rem;
    color: var(--secondary-green);
    margin-bottom: 0.5rem;
  }

  .nav-title {
    display: block;
    font-weight: 600;
    color: var(--primary-green);
    font-size: 1.1rem;
  }

   
  .related-posts {
    background: white;
    padding: 4rem 0;
    border-top: 1px solid var(--soft-green);
  }

  .related-title {
    display: flex;
    align-items: center;
    gap: 1rem;
    color: var(--primary-green);
    font-size: 2rem;
    margin-bottom: 3rem;
    font-weight: 600;
    justify-content: center;
  }

  .related-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .related-post {
    background: white;
    border-radius: 15px;
    overflow: hidden;
    transition: all 0.3s ease;
    box-shadow: 0 8px 25px var(--shadow);
    border: 1px solid var(--soft-green);
  }

  .related-post:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 40px var(--shadow);
  }

  .related-cover {
    height: 150px;
    overflow: hidden;
  }

  .related-cover img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .related-post:hover .related-cover img {
    transform: scale(1.05);
  }

  .related-content {
    padding: 1.5rem;
  }

  .related-content h4 {
    margin-bottom: 0.5rem;
  }

  .related-content h4 a {
    color: var(--primary-green);
    text-decoration: none;
    transition: color 0.3s ease;
  }

  .related-content h4 a:hover {
    color: var(--secondary-green);
  }

  .related-content p {
    color: var(--text-dark);
    opacity: 0.8;
    margin-bottom: 1rem;
    font-size: 0.9rem;
  }

  .related-content time {
    color: var(--secondary-green);
    font-size: 0.85rem;
  }

   
  @media (max-width: 768px) {
    .full-width-container {
      width: 100%;
      margin-left: 0;
      margin-right: 0;
    }

    .content-wrapper {
      padding: 0 1rem;
    }

    .post-title {
      font-size: 2.2rem;
    }

    .post-meta {
      flex-direction: column;
      align-items: flex-start;
      gap: 1rem;
    }

    .post-cover-full {
      height: 250px;
    }

    .post-nav {
      flex-direction: column;
    }

    .nav-link {
      max-width: none;
    }

    .nav-link.next {
      flex-direction: row;
    }

    .related-grid {
      grid-template-columns: 1fr;
    }

    .post-content {
      font-size: 1rem;
    }

    .post-content h1 {
      font-size: 2rem;
    }

    .post-content h2 {
      font-size: 1.6rem;
    }
  }

  @media (max-width: 480px) {
    .post-title {
      font-size: 1.8rem;
    }

    .related-title {
      font-size: 1.6rem;
      flex-direction: column;
      gap: 0.5rem;
    }

    .post-content table {
      font-size: 0.9rem;
    }
  }
</style>
    </main>
    
<footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-section">
                <h3>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 8px;">
                        <path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"/>
                    </svg>
                    Blog Lập Trình Mạng
                </h3>
                <p style="margin-bottom: 1rem; opacity: 0.9;">Blog chia sẻ kiến thức lập trình mạng, Java và JavaScript với những bài viết chất lượng và cập nhật.</p>
                <div class="social-links">
                    <a href="mailto:noobkhanh@gmail.com" title="Email" style="margin-right: 1rem;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                            <polyline points="22,6 12,13 2,6"></polyline>
                        </svg>
                    </a>
                    <a href="https://github.com/khanhsss0209" title="GitHub" target="_blank" rel="noopener noreferrer">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                        </svg>
                    </a>
                </div>
            </div>

            <div class="footer-section">
                <h3>
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 8px;">
                        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                    </svg>
                    Chủ đề chính
                </h3>
                <ul style="list-style: none;">
                    <li style="margin-bottom: 0.5rem;">
                        <a href="/tags/java/">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 6px;">
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                            Lập trình Java
                        </a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="/tags/javascript/">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 6px;">
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                            JavaScript & Web
                        </a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="/tags/networking/">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 6px;">
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                            Lập trình mạng
                        </a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="/tags/http/">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 6px;">
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                            HTTP & API
                        </a>
                    </li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 8px;">
                        <path d="M9 11H1l6-6 6 6z"></path>
                        <path d="M9 17l3 3 3-3"></path>
                        <path d="M22 18.5V2l-5 5-5-5v16.5"></path>
                    </svg>
                    Điều hướng
                </h3>
                <ul style="list-style: none;">
                    <li style="margin-bottom: 0.5rem;">
                        <a href="/">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 6px;">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                            </svg>
                            Trang chủ
                        </a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="/posts/">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 6px;">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14,2 14,8 20,8"></polyline>
                            </svg>
                            Bài viết
                        </a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="/archives/">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 6px;">
                                <polyline points="21,8 21,21 3,21 3,8"></polyline>
                                <rect x="1" y="3" width="22" height="5"></rect>
                                <line x1="10" y1="12" x2="14" y2="12"></line>
                            </svg>
                            Kho bài viết
                        </a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="/about/">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 6px;">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M12 16v-4"></path>
                                <path d="M12 8h0"></path>
                            </svg>
                            Giới thiệu
                        </a>
                    </li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 8px;">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                        <line x1="8" y1="21" x2="16" y2="21"></line>
                        <line x1="12" y1="17" x2="12" y2="21"></line>
                    </svg>
                    Công nghệ
                </h3>
                <p style="margin-bottom: 1rem; opacity: 0.9;">Blog được xây dựng với:</p>
                <div class="tech-stack">
                    <span class="tech-item">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 6px;">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                        </svg>
                        Hugo
                    </span>
                    <span class="tech-item">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 6px;">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                        </svg>
                        PaperMod
                    </span>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
                <span>&copy; 2025 <a href="http://localhost:1313/khanhsss0209/">Blog Lập Trình Mạng</a></span> • 

            <span>
                Được tạo bởi
                <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
                <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
                với ❤️ xanh
            </span>
        </div>
    </div>
</footer>
<a href="#top" aria-label="go to top" title="Lên đầu trang (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<style>
    .social-links {
        display: flex;
        gap: 1rem;
        margin-top: 1rem;
    }

    .social-links a {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        background: var(--secondary-green);
        border-radius: 50%;
        color: var(--text-light);
        transition: all 0.3s ease;
    }

    .social-links a:hover {
        background: var(--accent-green);
        color: var(--primary-green);
        transform: translateY(-3px);
    }

    .tech-stack {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .tech-item {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.75rem;
        background: var(--secondary-green);
        border-radius: 15px;
        font-size: 0.9rem;
        width: fit-content;
    }

    .top-link {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 50px;
        height: 50px;
        background: var(--gradient-primary);
        color: var(--text-light);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 1000;
        box-shadow: 0 4px 15px var(--shadow);
    }

    .top-link.visible {
        opacity: 1;
        visibility: visible;
    }

    .top-link:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(45, 90, 39, 0.3);
    }

    .footer-section ul li {
        transition: all 0.3s ease;
    }

    .footer-section ul li:hover {
        transform: translateX(5px);
    }

    .footer-section h3 {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
        font-size: 1.1rem;
        font-weight: 600;
    }

    @media (max-width: 768px) {
        .footer-content {
            grid-template-columns: 1fr;
            text-align: center;
        }

        .social-links {
            justify-content: center;
        }

        .tech-stack {
            align-items: center;
        }

        .top-link {
            bottom: 1rem;
            right: 1rem;
            width: 45px;
            height: 45px;
        }
    }
</style>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });
</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.classList.add("visible");
        } else {
            mybutton.classList.remove("visible");
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })
</script><script>
        
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.content-card').forEach(card => {
            observer.observe(card);
        });

        
        const themeToggle = document.getElementById('theme-toggle');
        if (themeToggle) {
            themeToggle.addEventListener('click', () => {
                document.body.classList.toggle('dark');
                localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
            });

            
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark');
            }
        }
    </script>
</body>

</html>